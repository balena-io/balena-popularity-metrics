# Change Log

All notable changes to this project will be documented in this file
automatically by Versionist. DO NOT EDIT THIS FILE MANUALLY!
This project adheres to [Semantic Versioning](http://semver.org/).

# v0.7.8
## (2022-11-08)

* Replace IP address when using amplitude $remote [Otávio Jacobi]

# v0.7.7
## (2022-11-08)

* Fix analytics_backend_version as property [Otávio Jacobi]

# v0.7.6
## (2022-11-08)

* Insert analytics_backend_version on v2 endpoint [Otávio Jacobi]

# v0.7.5
## (2022-11-07)

* Override min id to 1 in all requests [Otávio Jacobi]

# v0.7.4
## (2022-10-31)

* Remove bob https validation [Otávio Jacobi]

# v0.7.3
## (2022-10-31)

* Add docker-hc to container [Otávio Jacobi]
* Add docker-hc to Dockerfile copy [Otávio Jacobi]

# v0.7.2
## (2022-10-31)

* Add docker-hc for default healthcheck on bob [Otávio Jacobi]

# v0.7.1
## (2022-10-31)

* Add origin IP when using httpapi v2 [Otávio Jacobi]

# v0.7.0
## (2022-10-27)


<details>
<summary> Update open-balena-base to 14.0.0 [Pagan Gazzard] </summary>

> ## open-balena-base-14.0.0
> ### (2022-10-27)
> 
> * Update to nodejs 18 [Pagan Gazzard]
> 
> ## open-balena-base-13.6.1
> ### (2022-10-24)
> 
> * Update nodejs to 18.18.0 [Pagan Gazzard]
> 
> ## open-balena-base-13.6.0
> ### (2022-10-14)
> 
> * Update balenalib/amd64-debian-node Docker tag to v16.18.0 [Renovate Bot]
> 
> ## open-balena-base-13.5.3
> ### (2022-10-14)
> 
> * Switch to Flowzone for CI/CD [Kyle Harding]
> 
> ## open-balena-base-13.5.2
> ### (2022-09-26)
> 
> * Update to nodejs 16.17.1 [Pagan Gazzard]
> 
> ## open-balena-base-13.5.1
> ### (2022-08-22)
> 
> * Update nodejs to 16.17.0 and npm to 8.18.0 [Pagan Gazzard]
> 
> ## open-balena-base-13.5.0
> ### (2022-08-18)
> 
> * Update balenalib/amd64-debian-node Docker tag to v16.17.0 [Renovate Bot]
> 
</details>

# v0.6.4
## (2022-10-20)

* Allow logging for only failed request if not debugging [Otávio Jacobi]
* Allow logging for only failed request if not debugging [Otávio Jacobi]

# v0.6.3
## (2022-10-19)

* Ensure shutdown function always shuts down [Otávio Jacobi]

# v0.6.2
## (2022-10-19)

* Fix linter [Otávio Jacobi]

# v0.6.1
## (2022-10-18)

* pushes docker image using flowzone [Otávio Jacobi]

# v0.6.0
## (2022-10-18)

* fixes test path [Otávio Jacobi]
* replies instantly for amplitude requests to improve CLI UX [Otávio Jacobi]

# v0.5.14
## (2022-09-28)

* Update dependency mocha to 10.0.0 [Renovate Bot]

# v0.5.13
## (2022-09-28)

* Update dependency lint-staged to 13.0.3 [Renovate Bot]

# v0.5.12
## (2022-09-28)

* removes protected branch [Otávio Jacobi]
* removes not necessary spaces [Otávio Jacobi]
* moves tests for container build [Otávio Jacobi]
* fixes linting [Otávio Jacobi]
* debugging test [Otávio Jacobi]
* increases timeout for longer running tests [Otávio Jacobi]
* protects branch false [Otávio Jacobi]
* Replace balenaCI with flowzone [Otávio Jacobi]

# v0.5.11
## (2022-08-18)

* Update dependency husky to 8.0.1 [Renovate Bot]

# v0.5.10
## (2022-07-12)


<details>
<summary> Update open-balena-base to 13.4.0 [Pagan Gazzard] </summary>

> ## open-balena-base-13.4.0
> ### (2022-07-09)
> 
> * Update nodejs to 16.16.0 and npm to 8.13.2 [Pagan Gazzard]
> 
> ## open-balena-base-13.3.2
> ### (2022-06-08)
> 
> * Update nodejs to 16.15.1 and npm to 8.12.1 [Pagan Gazzard]
> 
</details>

# v0.5.9
## (2022-05-05)


<details>
<summary> Update open-balena-base to 13.3.1 [Pagan Gazzard] </summary>

> ## open-balena-base-13.3.1
> ### (2022-05-05)
> 
> * Add SystemMaxUse for journald.conf [Pagan Gazzard]
> 
</details>

# v0.5.8
## (2022-05-03)


<details>
<summary> Update open-balena-base to 13.3.0 [Pagan Gazzard] </summary>

> ## open-balena-base-13.3.0
> ### (2022-05-02)
> 
> * Update nodejs to 16.15.0 and npm to 8.8.0 [Pagan Gazzard]
> 
> ## open-balena-base-13.2.3
> ### (2022-04-08)
> 
> * Add support to map tokens from existing env [ab77]
> 
> ## open-balena-base-13.2.2
> ### (2022-04-05)
> 
> * Remove redundant package-lock.json [Akis Kesoglou]
> 
</details>

# v0.5.7
## (2022-04-18)


<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

> ## node-metrics-gatherer-6.0.3
> ### (2022-04-07)
> 
> * Add an `aggregateRequestWorker` that must be called on cluster workers [Pagan Gazzard]
> 
> ## node-metrics-gatherer-6.0.2
> ### (2022-04-07)
> 
> * Use async/await for aggregateRequestHandler [Pagan Gazzard]
> 
> ## node-metrics-gatherer-6.0.1
> ### (2022-04-06)
> 
> * Add missing await [Josh Bowling]
> 
> ## node-metrics-gatherer-6.0.0
> ### (2022-04-05)
> 
> * Update prom-client to 14.x [Pagan Gazzard]
> 
> ## node-metrics-gatherer-5.7.6
> ### (2022-04-05)
> 
> * Update dependencies [Pagan Gazzard]
> 
</details>

# v0.5.6
## (2022-04-18)

* Copy retry strategy option from the api version [Pagan Gazzard]

# v0.5.5
## (2022-03-21)


<details>
<summary> Update open-balena-base to 13.2.1 [Pagan Gazzard] </summary>

> ## open-balena-base-13.2.1
> ### (2022-03-21)
> 
> * Update nodejs to 16.14.2 and npm to 8.5.5 [Pagan Gazzard]
> 
> ## open-balena-base-13.2.0
> ### (2022-02-22)
> 
> * Consistent SENTRY environment names [ab77]
> 
</details>

# v0.5.4
## (2022-02-21)


<details>
<summary> Update open-balena-base to 13.1.0 [Pagan Gazzard] </summary>

> ## open-balena-base-13.1.0
> ### (2022-02-21)
> 
> * Update nodejs to 16.14.0 and npm to 8.5.1 [Pagan Gazzard]
> 
> ## open-balena-base-13.0.7
> ### (2022-02-16)
> 
> * Avoid cryptic names and rename bcr to registry-proxy [Kyle Harding]
> 
> ## open-balena-base-13.0.6
> ### (2022-02-15)
> 
> * Add new balena container registry (bcr) host [Kyle Harding]
> 
> ## open-balena-base-13.0.5
> ### (2022-02-01)
> 
> * Refactor ROOT_CA handling/resolution [ab77]
> 
</details>

# v0.5.3
## (2022-01-13)


<details>
<summary> Update open-balena-base to 13.0.4 [Pagan Gazzard] </summary>

> ## open-balena-base-13.0.4
> ### (2022-01-11)
> 
> * Update to nodejs 16.13.2 and npm 8.3.0 [Pagan Gazzard]
> 
</details>

# v0.5.2
## (2021-12-24)

* Update dependencies [Pagan Gazzard]

# v0.5.1
## (2021-12-09)


<details>
<summary> Update open-balena-base to 13.0.3 [Pagan Gazzard] </summary>

> ## open-balena-base-13.0.3
> ### (2021-12-08)
> 
> * Update to nodejs 16.13.1 and npm 8.2.0 [Pagan Gazzard]
> 
> ## open-balena-base-13.0.2
> ### (2021-11-19)
> 
> * Stage stack global environment [ab77]
> 
> ## open-balena-base-13.0.1
> ### (2021-11-01)
> 
> * Install python3 for node-gyp 8.x which is used by npm 8 [Pagan Gazzard]
> 
</details>

# v0.5.0
## (2021-11-02)

* Disable x-powered-by [Pagan Gazzard]
* Add support for setting trust proxy via an env var [Pagan Gazzard]

# v0.4.0
## (2021-11-01)


<details>
<summary> Update open-balena-base to 13.0.0 [Pagan Gazzard] </summary>

> ## open-balena-base-13.0.0
> ### (2021-10-30)
> 
> * Update nodejs to 16.13.0 and npm 8.1.1 [Pagan Gazzard]
> 
</details>

# v0.3.16
## (2021-10-18)


<details>
<summary> Update open-balena-base to 12.2.0 [Pagan Gazzard] </summary>

> ## open-balena-base-12.2.0
> ### (2021-10-18)
> 
> * Update nodejs to 14.18.1 and npm to 6.14.15 [Pagan Gazzard]
> 
> ## open-balena-base-12.1.1
> ### (2021-10-14)
> 
> * Simplify config by baking the device UUID into the DNS_TLD if available [Akis Kesoglou]
> * Fix configuration for non-BoB deployments [Akis Kesoglou]
> 
> ## open-balena-base-12.1.0
> ### (2021-09-24)
> 
> * Auto-configure balenaMachine(bob) [ab77]
> 
> ## open-balena-base-12.0.3
> ### (2021-09-01)
> 
> * Attempt to load root CA certificate bundle from file [ab77]
> 
</details>

# v0.3.15
## (2021-08-26)

* Add testing instructions [gelbal]

# v0.3.14
## (2021-08-24)


<details>
<summary> Update open-balena-base to 12.0.2 [Pagan Gazzard] </summary>

> ## open-balena-base-12.0.2
> ### (2021-08-24)
> 
> * Use multi-user.target as the default target [Pagan Gazzard]
> 
</details>

# v0.3.13
## (2021-08-19)


<details>
<summary> Bump base image [ab77] </summary>

> ## open-balena-base-12.0.1
> ### (2021-08-19)
> 
> * Use basic.target as the default target [Pagan Gazzard]
> 
> ## open-balena-base-12.0.0
> ### (2021-08-17)
> 
> * Update to debian bullseye [Pagan Gazzard]
> 
> ## open-balena-base-11.3.12
> ### (2021-08-13)
> 
> * Add hosts [ab77]
> 
> ## open-balena-base-11.3.11
> ### (2021-08-13)
> 
> * Remove deprecated etcd config [ab77]
> 
> ## open-balena-base-11.3.10
> ### (2021-08-13)
> 
> * Add missing init script [ab77]
> 
</details>

# v0.3.12
## (2021-08-19)


<details>
<summary> Update open-balena-base to 11.3.12 [Pagan Gazzard] </summary>

> ## open-balena-base-11.3.12
> ### (2021-08-13)
> 
> * Add hosts [ab77]
> 
> ## open-balena-base-11.3.11
> ### (2021-08-13)
> 
> * Remove deprecated etcd config [ab77]
> 
> ## open-balena-base-11.3.10
> ### (2021-08-13)
> 
> * Add missing init script [ab77]
> 
</details>

# v0.3.11
## (2021-08-17)

* Update dependencies [Pagan Gazzard]

# v0.3.10
## (2021-08-17)

* Fix open-balena-base reference in repo.yml [Pagan Gazzard]

# v0.3.9
## (2021-08-13)

* Update open-balena-base to 11.3.9 [Pagan Gazzard]

# v0.3.8
## (2021-08-12)

* Update open-balena-base to 11.3.8 [Pagan Gazzard]

# v0.3.7
## (2021-07-30)

* Update open-balena-base to 11.3.5 [Pagan Gazzard]

# v0.3.6
## (2021-07-29)

* Update open-balena-base to 11.3.3 [Pagan Gazzard]

# v0.3.5
## (2021-07-05)

* Update open-balena-base to 11.3.2 [Pagan Gazzard]

# v0.3.4
## (2021-05-14)

* Update open-balena-base to 11.2.0 [Pagan Gazzard]

# v0.3.3
## (2021-04-09)

* Update open-balena-base to 11.1.2 [Pagan Gazzard]

# v0.3.2
## (2021-03-30)

* Update open-balena-base to 11.1.0 [Pagan Gazzard]

# v0.3.1
## (2020-12-23)

* Pin open-balena-base to v11.0.3 [Pagan Gazzard]

# v0.3.0
## (2020-07-22)

* Expose API metrics [Roman Mazur]

# v0.2.17
## (2020-05-28)

* Inject backend version [Roman Mazur]

# v0.2.16
## (2020-04-10)

* Expose backend version in /ping response [Roman Mazur]

# v0.2.15
## (2020-04-09)

* Enable debug of transformed payload [Roman Mazur]

# v0.2.14
## (2020-04-08)

* Set client IP address in the event payload [Roman Mazur]

# v0.2.13
## (2020-03-25)

* Fix timeout keys [Roman Mazur]

# v0.2.12
## (2020-03-25)

* Expose all balena/analytics keys to confd [Roman Mazur]

# v0.2.11
## (2020-03-25)

* Fix the entry point [Roman Mazur]

# v0.2.10
## (2020-03-20)

* Fetch Sentry DSN and redis db from etcd [Roman Mazur]

# v0.2.9
## (2020-03-18)

* Bump linter [Roman Mazur]

# v0.2.8
## (2020-03-18)

* Fix throttling activation and shutdown [Roman Mazur]
* Add Sentry integration [Roman Mazur]
* Fix missing bluebird dep [Roman Mazur]

# v0.2.7
## (2020-03-17)

* Add CORS middleware [Roman Mazur]

# v0.2.6
## (2020-02-03)

* Extract external service stub for reuse [Roman Mazur]
* Add device events throttling [Roman Mazur]

# v0.2.5
## (2020-02-03)

* Add docker repo in resinci.yml [Giovanni Garufi]

# v0.2.4
## (2020-01-30)

* Parameterize server timeouts [Roman Mazur]

# v0.2.3
## (2020-01-30)

* Rename repo.yaml to .yml [Giovanni Garufi]

## 0.2.2 - 2020-01-24

* Add throttler implementation [Roman Mazur]

## 0.2.1 - 2020-01-14

* Add Amplitude group identify call implementation [Roman Mazur]
* Add Amplitude batch API call handler [Roman Mazur]
* Add Amplitude identify call implementation [Roman Mazur]
* Add amplitude http API implementation [Roman Mazur]

## 0.2.0 - 2020-01-07

* Add captureExpeption function similar to what is used iin API [Roman Mazur]
* Add Amplitude SDK backend [Roman Mazur]
* Add generic forwarder implementation [Roman Mazur]

## 0.1.0 - 2020-01-02

* Add ping endpoint [Roman Mazur]
